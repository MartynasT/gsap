<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Day</title>
</head>
<body>
<main class="reveal-blocks">
    <section class="content">
        <div class="wrapper">
            <div class="img-item-outer">
                <div class="img-item-transition"></div>
                <div class="img-item-inner">
                    <img class="img" src="./../src/assets/img.jpg" alt="">
                    <h2 class="title">
                        Typewriter
                    </h2>
                </div>
            </div>
            <div class="img-item-outer">
                <div class="img-item-transition"></div>
                <div class="img-item-inner">
                    <img class="img" src="./../src/assets/img2.jpg" alt="">
                    <h2 class="title">
                        Bread sticks, duh
                    </h2>
                </div>
            </div>

            <div class="img-item-outer">
                <div class="img-item-transition"></div>
                <div class="img-item-inner">
                    <img class="img" src="./../src/assets/img3.jpg" alt="">
                    <h2 class="title">
                        1/2 Pineapple
                    </h2>
                </div>
            </div>

            <div class="img-item-outer">
                <div class="img-item-transition"></div>
                <div class="img-item-inner">
                    <img class="img" src="./../src/assets/img4.jpg" alt="">
                    <h2 class="title">
                        "ART"
                    </h2>
                </div>
            </div>


            <div class="img-item-outer">
                <div class="img-item-transition"></div>
                <div class="img-item-inner">
                    <img class="img" src="./../src/assets/img5.jpg" alt="">
                    <h2 class="title">
                        "ART 2"
                    </h2>
                </div>
            </div>



        </div>
    </section>
</main>
<script type="module" src="/main.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.1/gsap.min.js"></script>
<script src="https://unpkg.com/gsap@3/dist/ScrollTrigger.min.js"></script>

<script>
    // gsap.registerPlugin(ScrollTrigger);
    gsap.registerPlugin(ScrollTrigger)

    document.addEventListener('DOMContentLoaded', ()=>{
      const gsapItems = gsap.utils.toArray('.img-item-outer');

      gsapItems.forEach(item=>{
        const transition = item.querySelector('.img-item-transition')
        const title = item.querySelector('.title')
        const img = item.querySelector('.img')


        let tl = gsap.timeline({
          scrollTrigger:{
            trigger: item,
            start: 'top 70%',
            toggleActions: 'play none none none',
            // markers: true
          }
        })

        tl.from(transition,1, {clipPath: " polygon(0px 0px, 101% -1px, 101% 101%, -1px 101%)"})
        tl.from(img,1, {scale: 1.5, filter: "blur(20px)"}, "-=0.5")
      })
    })
</script>


</body>
</html>
